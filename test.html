<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Testetywfuiwhfg9whgwe9hg</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="icon" type="image/x-icon" href="media/koek.png" />
    <meta name="theme-color" content="#060F16" />
  </head>
  <body>
    <main>
      <!-- Header -->
      <header>
        <h1>RANDY'S BAKKERIJ</h1>
        <h2>Koekjes</h2>
        <h3 id="kps">0 per seconde</h2>
          <!-- <p id="hoogsteKoekjesVeld">Hoogste aantal koekjes: 0</p> -->

        <!-- <h2>koekjes per seconden</h2> -->
      </header>
      <audio id="intro" src="media/intro.ogg" preload="auto"></audio>
      <!-- Sectie met koekje erin -->
      <section id="eerste">
        <img id="koekje" src="media/fotos/koek.png" alt="koekje" />
        <audio
          id="eetGeluid"
          src="media/WhatsApp Ptt 2024-03-04 at 13.31.33 (mp3cut.net).mp3"
        ></audio>
        <img id="photo" src="media/fotos/gold-removebg-preview.png" alt="Your Photo">
      </section>
      <!-- Footer met upgrades -->
      <footer class="tweede">
        <div>
          <h3>Power klik + 1</h3>
          <h3 id="test">
            <img class="minikoek" src="media/fotos/koek.png" alt="minikoek" />20
          </h3>
          <img id="klikUpgrade" src="media/fotos/Rectangle 12 (1).png" alt="klik" />
          <audio id="shopify" src="media/pingpong.mp3"></audio>
        </div>
        <div>
          <h3>Bakker kps + 1</h3>
          <h3 id="test2">
            <img class="minikoek" src="media/fotos/koek.png" alt="minikoek" />50
          </h3>
          <img id="autoUpgrade" src="media/fotos/bakker.png" alt="klik" />
          <audio id="shopify" src="media/pingpong.mp3"></audio>
        </div>
        <div>
          <h3>Regenboog skin</h3>
          <h3 id="test2">
            <img class="minikoek" src="media/fotos/koek.png" alt="minikoek" />1000
          </h3>
          <img id="buyUpgradeButton" src="media/fotos/Rectangle 13.png" alt="klik" />
          <audio id="shopify" src="media/pingpong.mp3"></audio>
          <button id="resetImageButton">Default skin</button>
        </div>     
      </footer>
      

    </main>
    <script>let aantalkoekjes = 0;
let koekjesPerKlik = 1;
let koekjesPerSeconde = 0;
let koekjesVeld = document.querySelector('h2');
let powerKlikPrijs = 20;
let autoKlikPrijs = 50;
const fps = 60;

// zo kan ik makkelijker dingen kopen om code te testen
let developmentmode = false;

if (developmentmode === true) {
    aantalkoekjes = 1000000;
}


// verhoog het aantal koekjes
function verhoogKoekjes(){
    aantalkoekjes += koekjesPerKlik;
    updateKoekjes();
}

koekje.addEventListener('click', verhoogKoekjes);

// h2 updaten naar aantal koekjes
function updateKoekjes() {
    koekjesVeld.textContent = Math.round(aantalkoekjes) + " " + "-" + " Koekjes!";
}

let minikoekfoto = "<img src='media/fotos/koek.png' alt='Foto' class='minikoek'/>";

// powerklik upgrade
function powerKlik(){
    if(aantalkoekjes >= powerKlikPrijs) {
        koekjesPerKlik += 1;
        aantalkoekjes -= powerKlikPrijs;
        powerKlikPrijs = Math.round(powerKlikPrijs *1.4);
        document.getElementById("test").innerHTML = minikoekfoto + powerKlikPrijs;
        shopify.play();

    } else {
        alert("Te weinig koekjes om te kopen");
    }
    updateKoekjes();
}

klikUpgrade.addEventListener('click', powerKlik);

// koop bakker upgrade 
function bakker() {
    if(aantalkoekjes >= autoKlikPrijs) {
        aantalkoekjes -= autoKlikPrijs;
        koekjesPerSeconde += 1;
        autoKlikPrijs = Math.round(autoKlikPrijs *1.4);
        document.getElementById("test2").innerHTML = minikoekfoto + autoKlikPrijs;
        shopify.play();
        // Koekjes per seconde updaten in html
        let kps = document.getElementById("kps")
        document.getElementById("kps").innerHTML = koekjesPerSeconde + " " + " per seconden";

    } else {
        alert("Te weinig koekjes om te kopen")
    }
}

autoUpgrade.addEventListener('click', bakker);

// automatisch koekjes erbij per seconde 
setInterval(function() {
    aantalkoekjes += koekjesPerSeconde/fps;
    updateKoekjes();

}, 1000/fps)

// chatgpt "schrijf voor mij in javascript hoe ik met een druk op een foto een geluid afspeel"
let image = document.getElementById("koekje");
let audio = document.getElementById("eetGeluid");

    koekje.addEventListener("click", function () {
    audio.currentTime = 0;

    audio.play();
});

// koop geluid wanneer je powerklik upgrade koopt
let powerklik = document.getElementById("klikUpgrade");
let bakkerfoto = document.getElementById("autoUpgrade");
let shopify = document.getElementById("shopify");

    klikUpgrade.addEventListener("click", function () {
    shopify.currentTime = 0;

});

    autoUpgrade.addEventListener("click", function () {
    shopify.currentTime = 0;

});

// Functie om de foto te weergeven
function showPhoto() {
    document.getElementById('photo').style.display = 'block';
    // Event listener toevoegen aan de foto om te luisteren naar klikgebeurtenissen
    document.getElementById('photo').addEventListener('click', function() {
        // Verberg de foto wanneer erop wordt geklikt
        document.getElementById('photo').style.display = 'none';
    });

    // Timer toevoegen om de foto te verbergen als er niet op wordt geklikt binnen 5 seconden
    setTimeout(function() {
        if (document.getElementById('photo').style.display !== 'none') {
            console.log("Geen klik binnen 5 seconden. De foto wordt verborgen.");
            document.getElementById('photo').style.display = 'none';
        }
    }, 5000);
}

// Functie om executeWithChance elke 10 seconden uit te voeren
function executePeriodically() {
    executeWithChance();
    setTimeout(executePeriodically, 10000);
}

// Functie om de showPhoto functie uit te voeren met een kans van 1 op 3
function executeWithChance() {
    // Genereren van een willekeurig getal tussen 1 en 3
    let randomChance = Math.floor(Math.random() * 3) + 1;
    // Als het willekeurige getal 1 is, voer dan de showPhoto functie uit
    if (randomChance === 1) {
        showPhoto();
    } else {
        console.log("Random nummer was niet 1. Opnieuw proberen...");
    }
}

// Roep de functie aan om de code uit te voeren
executePeriodically();

// extra koekjes door gouden koekje
function gold() {
    aantalkoekjes += 1000;
}

photo.addEventListener('click', gold);

// Functie om de afbeelding van het koekje te veranderen op basis van het aantal koekjes
      function changeCookieImage() {
        let koekje = document.getElementById("koekje");
        if (aantalkoekjes >= 100) {
          koekje.src = "media/fotos/chocolate_cookie.png"; // Verander de afbeelding naar een chocoladekoekje als je 100 koekjes of meer hebt
        } else {
          koekje.src = "media/fotos/koek.png"; // Anders behoudt het koekje zijn standaardafbeelding
        }
      }

      // Functie om een koopknop toe te voegen voor het wijzigen van de afbeeldingen
      function buyImageUpgrade() {
        let koekje = document.getElementById("koekje");
        if (aantalkoekjes >= 100) {
          koekje.src = "media/fotos/regenboog.png"; // Verander de afbeelding naar een chocoladekoekje
          aantalkoekjes -= 50; // Verminder het aantal koekjes met de kosten van de upgrade
          updateKoekjes(); // Update het aantal koekjes op het scherm
        } else {
          alert("Te weinig koekjes om te kopen");
        }
      }

      // Voeg een event listener toe aan de knop om de upgrade te kopen
      document.getElementById("buyUpgradeButton").addEventListener("click", buyImageUpgrade);

      // Functie om de afbeelding terug te veranderen naar de standaardafbeelding
      function resetCookieImage() {
        let koekje = document.getElementById("koekje");
        koekje.src = "media/fotos/koek.png"; // Verander de afbeelding terug naar de standaardafbeelding
      }

      // Voeg event listeners toe aan de knoppen
      document.getElementById("resetImageButton").addEventListener("click", resetCookieImage);

</script>
  </body>
</html>
